(function(e,t,m){var y,i,r=Date.now(),b={},c={},u={},s={},f={},x=".js",S=".json",n=function(e){return s[e]},O=function(){},k=function(t,e,r){if(b[t]&&!p(b[t]))return b[t];var n=j(t)||x,i=f[n];switch(i&&(e=i(t,e)),n){case x:var u,o={exports:{}},s={},a=e.call(r?{}:s,o.exports,F,o,k,function(e){return u=F(e)},C)||o.exports;return u&&(a=T(a,u)),"function"==typeof a&&(a.extend=v),s.load&&s.load(a),s.update&&(c[t]=[s.update,a]),t?b[t]=d(b[t],a):a;case S:try{return b[t]=JSON.parse(e)}catch(e){return console.error(t,e.message)}default:return b[t]=e}},a={run:O,inherit:O,reload:O,parse:O,define:k,import:O,export:O,env:n,ajax:O},o="undefined"==typeof requestAnimationFrame?function(e){return setTimeout(e,100)}:requestAnimationFrame,w=function(e){return e.substring(e.indexOf("{")+1,e.lastIndexOf("}"))},j=function(e){if(!e)return null;var t=e.lastIndexOf(".");return-1!==t&&-1===e.indexOf("/",t)?e.substr(t):null},l=function(t,r){if(!t.length)return r();A(t.shift(),function(e){if(e)return r(e);l(t,r)})},A=function(n,i){if(b[n]=b[n]||C.import(n),b[n])return i(null,b[n]);var e=n.indexOf("/"),t=~e?u[n.slice(0,e)]:0,r=t?n.slice(e+1):n;(t=t||u["~"]||"")instanceof Function?t(r,function(e,t){if(e)return i(e);D(n,t,i)}):C.ajax("get",t+r+(j(n)?"":x),null,null,function(e,t,r){if(4===t)return e?i(e):void D(n,r,i)})},h=function(e){return Object.defineProperties(Function("return arguments.callee.__proto__.apply(this,arguments)"),{name:{value:e},i:{value:r}})},p=function(e){return"function"==typeof e&&r===e.i},d=function(e,t){return e&&e!==t?(p(e)&&(e.prototype=t.prototype),e.__proto__=t,e):t},g=function(e){return p(e)?e.__proto__:e},v=function(e,t){return e?T(e,this,t):this},T=function(e,t,r){var n,i,u=g(e),o=g(t),s=typeof u,a=typeof o;switch(s){case"function":i=(n=u).prototype;break;case"object":if(s===a)return u.__proto__=o,u;n=function(){return o.apply(this,arguments)},i=u;break;default:return u}switch(Object.assign(n,o,g(r)),a){case"function":return n.prototype=Object.assign(Object.create(o.prototype),i,{constructor:o}),n;case"object":return n.prototype=Object.assign(Object.create(o),i),n;default:return u}},F=function(e,t){var r=b[e];return void 0===r?t?A(e,t):b[e]=h(e):(t&&setTimeout(t,0,null,r),r)},N=function(t,e,r,n){n=n||a;var i=t?'"use strict";\n'+e+(s.live?"":"//# sourceURL="+t):e,u=function(e){return b[e]||r.push(e),b[e]};try{var o=Function("exports","require","module","define","inherit","pico",i)}catch(e){return console.error(t,e.message)}return o.call({},{},u,{},k,u,n),o},D=function(t,e,r){if(r=r||O,b[t])return r(null,b[t]);if(x!==(j(t)||x))return r(null,k(t,e));var n=[],i=N(t,e,n);t&&(b[t]=h(t)),l(n,function(e){if(e)return r(e);r(null,k(t,i))})},_=function(e){var t;for(var r in c)(t=c[r])&&t[0](t[1],e);o(_)},C=e[t]={run:function(e,t){var r;for(var n in C.ajax=e.ajax||C.ajax,u=e.paths||u,s=e.env||s,f=e.preprocessors||f,i=e.importRule,b)(r=f[j(n)||x])&&(b[n]=r(n,b[n]));(e.onLoad||function(){arguments[arguments.length-1]()})(function(){D(e.name||null,w(t.toString()),function(e,t){if(e)return console.error(e);t&&t(),y&&y(),o(_)})})},reload:function(r,e,n){"function"==typeof e&&(n=e),n=n||O;var t=function(e,t){if(e)return n(e);n(null,b[r]=d(b[r],t))};delete b[r],n===e?A(r,t):D(r,e,t)},parse:D,define:k,import:function(t){if(Array.isArray(i)&&i.some(function(e){return e.match(t)}))return m(t)},export:F,env:n};k("pico/func",function(e,t,r,n,i,u){function s(e,t){for(var r,n=t[0],i=[],u=0;r=t[u];u++)i.push(r.toString());return{typeName:n.getTypeName(),functionName:n.getFunctionName(),methodName:n.getMethodName(),fileName:n.getFileName(),line:n.getLineNumber(),column:n.getColumnNumber(),evalOrigin:n.getEvalOrigin(),isTopLevel:n.isToplevel(),isEval:n.isEval(),isNative:n.isNative(),isConstructor:n.isConstructor(),trace:i}}return{reflect:function e(t,r){var n=Error.prepareStackTrace,i=Error.stackTraceLimit;Error.prepareStackTrace=s,Error.stackTraceLimit=r||1;var u=new Error;Error.captureStackTrace(u,t||e);var o=u.stack;return Error.stackTraceLimit=i,Error.prepareStackTrace=n,o}}}),k("pico/json",function(e,t,r,n,i,u){return{parse:function(r,n){return JSON.parse(r[0],function(e,t){switch(e[0]){case"$":if(n)return JSON.parse(r[t]);case"_":return r[t];default:return t}})},stringify:function(e,r){var n=[];return n.unshift(JSON.stringify(e,function(e,t){switch(e[0]){case"$":if(r)return n.push(JSON.stringify(t));case"_":return n.push(t);default:return t}})),n},path:function(e){var l=e;function h(e,t){return t<0?(e.length||0)+t:t}return function e(){if(!arguments.length)return l;var t=Array.isArray(l);switch(typeof arguments[0]){case"string":var r=arguments[0];switch(r){default:if(t){if(!l[0][r])break;l=l.map(function(e){return e[r]})}else{if(!l[r])break;l=l[r]}break;case"..":l=function e(t,r){if(t&&r&&"object"==typeof r){if(r[t])return r[t];for(var n,i,u=[],o=Object.keys(r),s=0;i=o[s];s++)(n=e(t,r[i]))&&(Array.isArray(n)?u.push.apply(u,n):u.push(n));return u.length?u:void 0}}(arguments[1],l)||l;break;case"*":if(t)break;l=Object.keys(l).map(function(e){return l[e]})}break;case"object":var n=arguments[0];if(!Array.isArray(n))break;l=n.map(function(e){return l[h(l,e)]});break;case"number":for(var i=h(l,arguments[0]),u=h(l,arguments[1])||l.length-1||0,o=arguments[2]||1,s=[],a=[],c=i;c<=u;c+=o)s.push(l[c]),a.push(c);l=s;break;case"function":var f=arguments[0];l=t?l.map(f):f(l)}return Array.isArray(l)&&(l=l.filter(function(e){return null!=e})),1===l.length&&(l=l.pop()),e}}}}),k("pico/obj",function(){var h=["object","function"],p=["constructor"];return{extend:function e(t,r,n){var i=h.indexOf(typeof t),u=h.indexOf(typeof r);if(1===i&&(i=h.indexOf(typeof t.__proto__)),1===u&&(u=h.indexOf(typeof r.__proto__)),!t||null===r||-1===u&&u===i)return void 0===r?t:r;if(1===u)return u===i&&(r.prototype=t),r;var o,s,a=(n=n||{}).tidy;if(Array.isArray(r))if(n.mergeArr){var c,f,l={};for(c=0,f=(t=t||[]).length;c<f;c++)void 0===(s=t[c])&&a||(l[s]=s);for(c=0,f=r.length;c<f;c++)void 0===(s=r[c])&&a||(l[s]=s);for(o in t=[],l)t.push(l[o])}else t=r;else for(o in t=t||{},r)s=r[o],~p.indexOf(o)||void 0===s&&a||(t[o]=e(t[o],s,n));return t},extends:function(e,t,r){for(var n,i=this.extend,u=0;n=t[u];u++)e=i(e,n,r);return e},parseInts:function(e,t){for(var r=0,n=e.length;r<n;r++)e[r]=parseInt(e[r],t);return e},pluck:function(e,t){var r=[];if(e.length){var n,i,u,o,s,a={};for(u=0,o=e.length;u<o;u++)(n=e[u])&&void 0!==(i=n[t])&&(a[i]=i);for(s in a)r.push(a[s])}return r},dotchain:function e(t,r,n){if(!r||!r.length)return t;var i=t[r.shift()];return i?e(i,r):n}}}),k("pico/str",function(){var e=Math.random;function o(e){var t=e.search("[#:%]");switch(t){case-1:case 0:return e}return[e.substring(0,t),e.substr(t)]}function u(r,n,i){if(!r.length)return i(null,n);!function e(t,r,n,i){var u=t.indexOf("/",r);if(-1===u)return n.push(o(t.substring(r))),i(null,n);n.push(o(t.substring(r,u))),e(t,u+1,n,i)}(r.shift(),0,[],function(e,t){if(e)return i(e);n.push(t),u(r,n,i)})}function s(e,t,r,n,i){switch(e[0]){default:return e===t;case"%":i[e.substr(1)]=parseFloat(t);break;case":":i[e.substr(1)]=t;break;case"#":i[e.substr(1)]=r.slice(n).join("/")}return!0}function a(e,t,r){if(e.length<t.length)return!1;for(var n,i,u=0,o=t.length;u<o;u++)if(i=t[u],n=e[u],Array.isArray(i)){if(0!==n.indexOf(i[0]))return!1;if(!s(i[1],n.substr(i[0].length),e,u,r))return!1}else if(!s(i,n,e,u,r))return!1;return e.splice(0,o),!0}function c(e,t,r,n,i,u){if(t.length<=r)return e;var o=t[r++];if(!o.charAt)return c(c(e+i,o,0,n,"",u),t,r,n,i,u);if(1<o.length)switch(o.charAt(0)){case"%":case":":case"#":if(!(o=n[o.slice(1)]))return u?"":e}return c(e+=i+o,t,r,n,i,u)}return{codec:function(e,t){for(var r,n=0,i="";r=t.charCodeAt(n);n++)i+=String.fromCharCode(r^e);return i},hash:function(e){for(var t,r=0,n=0;t=e.charCodeAt(r);r++)n=(n<<3)-n+t|0;return n},rand:function(){return e().toString(36).substr(2)},pad:function(e,t,r){return this.tab(e,t,r)+e},tab:function(e,t,r){var n=t-String(e).length+1;return Array(0<n?n:0).join(r||"0")},template:function(e){for(var t,r,n=/<%(.+?)%>/g,i=/(^( )?(var|if|for|else|switch|case|break|{|}|;))(.*)?/g,u="var r=[];\n",o=0,s=function(e,t){return u+=t?e.match(i)?e+"\n":"r.push("+e+");\n":""!==e?'r.push("'+e.replace(/"/g,'\\"')+'");\n':"",s};t=n.exec(e);)s(e.slice(o,t.index))(t[1],!0),o=t.index+t[0].length;return s(e.substr(o,e.length-o)),r=new Function("pico","d",(u+'return r.join("");').replace(/[\r\t\n]/g," ")),function(e){return r(C,e)}},compileRest:function(e,r){return r=r||[],-1===e.search("[|#:%]")||u(e.split("|"),[e],function(e,t){if(e)throw e;r.push(t)}),r},execRest:function(e,t,r){for(var n,i,u,o=e.split("/"),s=0;n=t[s];s++)if(a(o,n[1],r)){for(i=2;(u=n[i])&&a(o,u,r);i++);return n[0]}return null},buildRest:function(e,t,r,n){for(var i,u,o=0;u=t[o];o++)if(e===u[0]){i=u;break}if(!i)return e;var s,a=c("",i[1],0,r,"/",!0);if(!a)return!1;for(o=2;s=i[o];o++)a=c(a,s,0,r,"/");return(n||1===a.indexOf("http"))&&(a=a.slice(1)),!~a.search("[#%]")&&a}}}),k("pico/time",function(){var u=Math.max,o=Math.min,y=Math.floor,s=Math.ceil,a=function(e,t){return(e-t)/864e5},c=function(e,t,r){var n=t?1:0,i=new Date(e.getFullYear()+(r||0),0,1),u=(7-i.getDay())%7+n,o=a(e,i);return u<o?s((o-u)/7):c(e,t,-1)},p=function(e,t,r){var n=e.split("/"),i=n[0];return"*"===i?n[0]=t:(i=parseInt(i),i=u(t,i),i=o(r,i),n[0]=i),1===n.length?n.push(0):n[1]=parseInt(n[1]),n},f=function(e,t,r){if("*"===e)return 0;for(var n,i,u,o,s,a,c,f=[],l=e.split(","),h=0;n=l[h];h++)if(u=n.split("-"),o=p(u[0],t,r),1!==u.length)if(s=p(u[1],t,r),i=o[0],a=s[0],c=s[1]||1,a<i)for(;a<=i;i-=c)f.push(i);else for(;i<=a;i+=c)f.push(i);else if(c=o[1])for(i=o[0];i<=r;i+=c)f.push(i);else f.push(o[0]);return f.sort(function(e,t){return e-t}),f},m=function(e,t,r){if(!t)return e;if(u.apply(Math,t.concat(e))===e)return e+(r-e)+o.apply(Math,t);for(var n=0,i=t.length;n<i;n++)if(t[n]>=e)return t[n];console.error("not suppose to be here",e,t,r)},b=function(e,t,r,n,i,u,o,s,a){if(3<t++)return a(0);var c=m(e.getMinutes(),r,60),f=m(e.getHours()+y(c/60),n,24),l=e.getDate(),h=e.getMonth(),p=e.getFullYear(),d=new Date(p,h,0).getDate();if(o){var g=e.getDay()+y(f/24);l+=m(g,o,7)-g}else l=m(l+y(f/24),i,d);if(h=m(h+1+y(l/d),u,12),e.getMonth()+1!==h)return b(new Date(p,h-1),t,r,n,i,u,o,s,a);if(p=m(p+y((h-1)/12),s,0),e.getFullYear()!==p)return b(new Date(p,h-1),t,r,n,i,u,o,s,a);var v=new Date(p,(h-1)%12).getTime();return v+=864e5*(l%d-1),v+=f%24*36e5,a(v+=c%60*6e4)};return{parse:function(e){var t=e.split(" ");if(t.length<6)return 0;var r=f(t[0],0,59);if(null==r)return 0;var n=f(t[1],0,23);if(null==n)return 0;var i=f(t[2],1,31);if(null==i)return 0;var u=f(t[3],1,12);if(null==u)return 0;var o=f(t[4],0,6);if(null==o)return 0;var s=f(t[5],1975,2075);return null==s?0:[r,n,i,u,o,s]},nearest:function(e,t,r,n,i,u,o){return o=o||Date.now(),b(new Date(o+9e4),0,e,t,r,n,i,u,function(e){return e})},daynum:a,weeknum:c,day:function(e,t){var r=new Date,n=new Date(r.getFullYear(),r.getMonth(),r.getDate(),12,0,0)-e;return 0<=n&&n<=1296e5||n<=0&&-1296e5<n?r.getDate()===e.getDate()?"Today":e<r?"Yesterday":"Tomorrow":(t=t||"en-US",r.getFullYear()===e.getFullYear()&&c(r)===c(e)?e.toLocaleDateString(t,{weekday:"long"}):e.toLocaleDateString(t,{weekday:"short",month:"short",day:"numeric"}))}}}),k("pico/web",function(e,t,r,n,i,c){var p=t("pico/json"),d=Math.abs,u=Math.floor,o=Math.random,g=1,f=!0,s=function(e){e&&console.error(e)},v=function(e,t,r){e.append(t,r)},y=function(e,t,r){e[t]=r},m=function(i,u){u=u||s,c.ajax("get",i.url,null,null,function(e,t,r){if(4===t){if(e)return u(e);var n=parseInt(r);if(isNaN(n))return u("invalid timesync response");i.serverTime=n,i.serverTimeAtClient=Date.now(),u()}})},l=function(e,t,r,n){switch(e&&4===t&&m(n),t){case 2:n.head=null,n.currPT=g,n.resEndPos=0}if(r){var i,u=n.resEndPos,o=-1,s=n.delimiter,a=s.length,c=n.body;try{for(;-1!==(o=r.indexOf(s,u));){switch(n.currPT){case g:n.head=JSON.parse(r.substring(u,o)),c.length=0,n.currPT=2;break;case 2:c.push(r.substring(u,o))}if((i=n.head)&&i.len===c.length){if(n.currPT=g,i.resId&&n.request("ack",{resId:i.resId}),!i.reqId)return void console.error("incomplete response header: "+JSON.stringify(i));if(n.cullAge&&n.cullAge<d(n.getServerTime()-i.date))return void console.error("invalid server time: "+JSON.stringify(i)+" "+d(n.getServerTime()-i.date));if(n.secretKey&&c.length){for(var f=CryptoJS.algo.HMAC.create(CryptoJS.algo.MD5,n.secretKey+i.date),l=0,h=c.length;l<h;l++)f.update(c[l]);if(i.key!==f.finalize().toString(CryptoJS.enc.Base64))return void console.error("invalid server key: "+JSON.stringify(i))}i.len&&(i.data=p.parse(c,!0)),n.inbox.push(i),n.head=null}u=o+a}}catch(e){console.error(e)}n.resEndPos=4===t?0:u}},b=function(e,t,r,n,i){n=n||"",i=i||"";for(var u,o,s,a,c=e instanceof FormData?v:y,f=t.baseURI,l=0,h=t.elements;a=h[l];l++)if(a.hasAttribute("name"))if("FILE"===(u=a.hasAttribute("type")?a.getAttribute("type").toUpperCase():"TEXT"))for(o=0,s=a.files.length;o<s;c(e,n+a.name,a.files[o++]));else("RADIO"!==u&&"CHECKBOX"!==u||a.checked)&&c(e,n+a.name,a.value);if(r)for(var p in r)c(e,i+p,r[p]);return f=f.substring(0,f.lastIndexOf("/")+1),t.action.substr(f.length)},a=function(e,t){e.url=t.url||e.url,e.secretKey=t.secretKey||e.secretKey,e.cullAge=t.cullAge||e.cullAge,e.delimiter=t.delimiter?JSON.stringify(t.delimiter):e.delimiter};function h(e){if(!e.url)return console.error("url is not set");a(this,Object.assign({cullAge:0,delimiter:["&"]},e)),this.reqId=1+u(1e3*o()),this.inbox=[],this.outbox=[],this.uploads=[],this.callbacks={},this.acks=[],this.reqs=[],this.resEndPos=0,this.head=null,this.body=[],this.currPT=g,this.serverTime=0,this.serverTimeAtClient=0}return h.prototype={beat:function(){if(this.inbox.length)for(var e,t,r,n=this.inbox,i=this.callbacks;r=n.pop();)(t=i[e=r.reqId])&&(delete i[e],t(r.error,r.data));if(f&&(this.uploads.length||this.outbox.length||this.acks.length)){var u=this.uploads,o=this.outbox,s=this.acks;if(u.length)c.ajax("post",this.url,u.shift(),null,l,this);else{var a=this.reqs=s.concat(o);s.length=o.length=0,c.ajax("post",this.url,a.join(this.delimiter)+this.delimiter,null,l,this)}}},reconnect:function(e,t){var r;a(this,e),(r=this).resEndPos=r.outbox.length=r.acks.length=0,r.currPT=g,m(this,function(e){t(e,this)})},submit:function(e,t,r){if(!("undefined"!=typeof window&&e&&e instanceof HTMLFormElement))return console.error("No HTMLFormElement submitted");var n=0;r&&(n=this.reqId++,this.callbacks[n]=r);var i=new FormData;i.append("api",b(i,e,t,"data/","cred/")),i.append("reqId",n),this.uploads.push(i)},request:function(e,t,r,n){switch(arguments.length){case 2:t instanceof Function&&(n=t,t=r=void 0);break;case 3:r instanceof Function&&(n=r,r=void 0);break;case 4:break;default:return console.error("wrong request params!")}if("undefined"!=typeof window&&t instanceof HTMLFormElement){var i={};e=b(i,t),t=i}if(!e)return console.error("Missing api,  data["+JSON.stringify(t)+"]");var u=this.acks;if("ack"!==e&&(u=this.outbox).length){var o=u.shift();-1===o.indexOf(e)&&u.unshift(o)}var s=0;n&&(s=this.reqId++,this.callbacks[s]=n);var a=t?p.stringify(t,!0):[];if(a.unshift(JSON.stringify(r)),a.length&&this.secretKey){for(var c=this.getServerTime(),f=CryptoJS.algo.HMAC.create(CryptoJS.algo.MD5,this.secretKey+c),l=0,h=a.length;l<h;l++)f.update(a[l]);a.unshift(JSON.stringify({api:e,reqId:s,len:a.length,date:c,key:f.finalize().toString(CryptoJS.enc.Base64)}))}else a.unshift(JSON.stringify({api:e,reqId:s,len:a.length}));u.push(a.join(this.delimiter))},getServerTime:function(){return this.serverTime+(Date.now()-this.serverTimeAtClient)},test:function(e){m(this,e)}},{create:function(e,t){var r=new h(e);return m(r,function(e){t&&t(e,r)}),r},online:function(){f=!0},offline:function(){f=!1}}}),"object"==typeof process&&(C.ajax=C.ajax||function(e,t,r,n,i,u){var o=m("fs").readFileSync(t,"utf8");if(o)return setImmediate(i,null,4,o,u);setImmediate(i,"failed",4,null,u)}),k("pico/build",function(){var s="pico.define('URL','FUNC')\n",a=/['\n\r]/g,t={"'":"&#039;","\n":"\\n","\r":"\\n"},v=function(e){return t[e]};return function(r){var c=m("fs"),f=m("path"),l=r.shift(),h=r.shift(),u=k;function p(e,t){if(t&&t.length)return c.appendFileSync(e,c.readFileSync(t.shift())),c.appendFileSync(e,";\n"),p(e,t)}function d(t,r){if(!t||!t.length)return r();A(t.shift(),function(e){if(e)return r(e);d(t,r)})}function g(n,i){k=function(e,t,r){if(u(e,t,r,!0),e&&-1===i.indexOf(e))switch(j(e)||x){case x:return c.appendFileSync(n,s.replace("URL",e).replace("'FUNC'",t.toString()));case S:return c.appendFileSync(n,s.replace("URL",e).replace("FUNC",JSON.stringify(JSON.parse(t)).replace(a,v)));default:return c.appendFileSync(n,s.replace("URL",e).replace("FUNC",t.replace(a,v)))}}}_=O;var n=r.shift(),i=f.join(h,n.entry+x),o=n.exclude||[];g(i,o),c.unlink(i,function(){p(i,n.deps);var e=c.readFileSync(f.join(l,n.entry+x)),t=N(null,e,[],C);~o.indexOf(n.entry)||(y=function(){d(n.include,function(e){if(e)return console.error(e);c.appendFileSync(i,w(t.toString())),function n(i,u,o){if(!i||!i.length)return o;b=Object.assign({},u);var s=i.shift(),a=f.join(h,s.entry+x);g(a,s.exclude||[]),c.unlink(a,function(){p(a,s.deps),d(s.include,function(e){if(e)return console.error(e);var t=c.readFileSync(f.join(l,s.entry+x)),r=N(null,t,[],C);D(s.entry,t,function(e){if(e)return o(e);c.appendFileSync(a,w(r.toString())),n(i,u,o)})})})}(r,Object.assign({},b),function(){process.exit()})})})})}}),k("pico/test",function(){var r,n,s=C.export("pico/str"),i=void 0!==m,u=i?m("util").inspect:JSON.stringify,o=!0;function a(e,t,r,n){e&&(console.log(t+":"+s.tab(t,100,".")+u(n,{colors:!0})),r&&console.error(r))}function c(e,n,t,i){var u=Date.now();e.run(e,t,function(e,t,r){return r.push(Date.now()-u),a(i,n,e,t),{msg:n,error:e,result:t,extra:r}})}function f(t,e,r,n,i){function u(){e.call(this,function(e){t.merge(r,e,i)}),n.call(this)}u.prototype=e.prototype,t.branch(function(){new u})}function l(i,u,o,s,a){if(u.length<=o)return a(null,s.slice());u[o++].apply(i,s.concat([function(e,t){if(e)return a(e);if(t){s.length=t.length;for(var r=0,n=s.length;r<n;r++)s[r]=t[r]}l(i,u,o,s,a)}]))}function e(e,t,r){if(t)return r(null,e.args.slice());l(e,e.begins,0,e.args,r)}function h(e,t){l(e,e.ends,0,e.args,t),e.begins.length=0,e.befores.length=0,e.afters.length=0,e.ends.length=0}function p(e,t,r){l(e,e.befores,0,t,r)}function d(e,t,r){l(e,e.afters,0,t,r)}function t(){this.begins=[],this.ends=[],this.befores=[],this.afters=[],this.args=[]}function g(e){t.call(this),this.summary={total:0,suceeded:0,failed:0,error:0},this.results=[],this.done=e}function v(e){g.call(this,e),this.queue=[],this.running=!1}t.prototype={begin:function(e){this.begins.push(e)},end:function(e){this.ends.push(e)},before:function(e){this.befores.push(e)},after:function(e){this.afters.push(e)},test:function(e,t){c(this,e,t)},series:function(e,t){f(this,v,e,t)},parallel:function(e,t){f(this,g,e,t)}},g.prototype=Object.assign({run:function(t,n,i){var u=this,o=u.summary,s=u.results;e(u,o.total++,function(e,r){if(e)return i(e);setTimeout(function(e){p(u,r,function(){n.apply(t,r.concat([e]))})},0,function(e,t){s.push(i(e,t,Array.prototype.slice.call(arguments,2))),e?o.error++:t?o.suceeded++:o.failed++,d(u,r,function(){if(o.total===o.suceeded+o.failed+o.error)return h(u,function(){u.done({summary:o,results:s})})})})})},branch:function(e){this.summary.total+=1,setTimeout(e,0)},merge:function(e,t,r){var n=this.summary;n.total-=1;var i=t.summary;n.total+=i.total,n.suceeded+=i.suceeded,n.failed+=i.failed,n.error+=i.error;var u=this.results,o=t.results;t.results.unshift({msg:e}),function t(r,e,n){r&&e.forEach(function(e){return Array.isArray(e)?t(r,e,n+1):null==e.result?console.log(s.pad(e.msg,n+e.msg.length,"#")):void a(r,e.msg,e.err,e.result)})}(r,t.results,0),u.push(o),n.total===n.suceeded+n.failed+n.error&&this.done({summary:n,results:u})}},t.prototype),v.prototype=Object.assign({run:function(t,n,i,u){var o=this,s=o.queue,a=o.summary,c=o.results;e(o,u?a.total:a.total++,function(e,r){return e?i(e):!u&&s.length||o.running?s.push([t,n,i,1]):(o.running=!0,void setTimeout(function(e){p(o,r,function(){n.apply(t,r.concat([e]))})},0,function(e,t){c.push(i(e,t,Array.prototype.slice.call(arguments,2))),e?a.error++:t?a.suceeded++:a.failed++,d(o,r,function(){if(a.total===a.suceeded+a.failed+a.error)return h(o,function(){o.done({summary:a,results:c})});o.running=!1,o.run.apply(o,s.shift())})}))})},branch:function(e){this.summary.total+=1;var t=this.queue;if(this.running)return t.push([null,e,function(){},1]);this.running=!0,setTimeout(e,0)},merge:function(e,t,r){this.running=!1,g.prototype.merge.call(this,e,t,r)}},t.prototype);var y=new g(function(e){var t=e.summary;o&&console.log("\nSummary:",t),r&&m("fs").writeFileSync(r,JSON.stringify(e)),n&&n(e),i&&process.exit(t.failed+t.error)});return{setup:function(e){n=e.end,o=e.stdout,r=i&&e.fname},test:function(e,t){c(y,e,t,o)},series:function(e,t){f(y,v,e,t,o)},parallel:function(e,t){f(y,g,e,t,o)}}})}).apply(null,"object"==typeof module?[module,"exports",require]:[window,"pico"]);
//# sourceMappingURL=bin/pico-cli.min.js.map